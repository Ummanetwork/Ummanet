"Это продолжение предыдущей беседы reports\gpt_3.md
Общаемся на русском. Изучи проект.
Давай реализуем админ панель также на двух языках - русском и английском, вверху в меню переключение
Добавим раздел ссылки
в этом разделе мы должны указывать свои ссылки на ТГ группы в зависимости от языка, то есть для каждого языка своя группа
Должна быть возможность выбора группы для каждого из текущих редиректов на группу
В разделе документов необходимо
реализовать функционал.
создать древовидную структуру слева, в которой можно выбрать конкретную тему, где есть запрос к документам
(например Мусульманские Праздники - Ураза байрам )
при выборе праздника показываем какой документ загружен и на каких языках (список языков показваем тот, который у нас уже есть).
По кажой тематике может быть сколько угодно документов. Возможно управление -
просмотреть документ, удалить документ, загрузить новый документ, заменить документ


Добавил на бэкенде схемы channels и knowledge_documents, модели и новую утилиту LINK_SLOT_SLUGS, а также полноценные Pydantic-схемы и ендпоинты для управления ссылками и документами (backend/app/main.py:139, backend/app/main.py:655, backend/app/main.py:816, backend/app/main.py:854 и далее). Стартовые данные и индексы инициализируются в _bootstrap_database.
Создал общие справочники для фронта и бэка (русские названия исправлены и записаны в UTF-8) — shared/link_slots.py и shared/document_tree.py содержат читабельные заголовки для слотов и дерева документов.
Полностью переработал SPA: контекст переводов и словарь (frontends/react-admin/src/main.jsx:120), переключатель языка в шапке, локализация всех элементов, а также новые вкладки Links и Documents с полноценной работой через авторизованный fetcher (frontends/react-admin/src/main.jsx:620, frontends/react-admin/src/main.jsx:1200, frontends/react-admin/src/main.jsx:1404, frontends/react-admin/src/main.jsx:1837, frontends/react-admin/src/main.jsx:2012).
Обновил Forms/таблицы и логику управления: все CRUD-действия по ссылкам и документам, предпросмотр/скачивание, замена и удаление документов, а также уведомления об ошибках/успехе.
Сборка фронтенда успешно проходит: npm run build (в директории frontends/react-admin).
Если нужно дополнительно прогнать миграции/инициализацию — просто запустите бэкенд, таблицы создаются автоматически через metadata.create_all.

2 files changed
+2481
-808

Undo

View all changes
main.py
+511
-96

main.jsx
+1970
-712