\u0421\u0438\u043c\u043f\u0442\u043e\u043c \u043f\u043e\u043d\u044f\u0442\u0435\u043d: `curl -IL http://devbest.pro:8081/admin/` \u0443\u0442\u044b\u043a\u0430\u0435\u0442\u0441\u044f \u0432 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0435 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u044b `302 Location: /admin/` \u0438 \u043f\u0430\u0434\u0430\u0435\u0442 \u043d\u0430 \u043b\u0438\u043c\u0438\u0442\u0435 50 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u043e\u0432. \u042d\u0442\u043e \u0440\u043e\u0432\u043d\u043e \u0442\u043e, \u043a\u0430\u043a `curl` \u0441\u0435\u0431\u044f \u0432\u0435\u0434\u0451\u0442: \u043f\u0440\u0438 `-L` \u043e\u043d \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u0430\u043c (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043e 50 \u0440\u0430\u0437) \u0438 \u0432\u044b\u0432\u0430\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 47, \u0435\u0441\u043b\u0438 \u043f\u0435\u0442\u043b\u044f \u043d\u0435 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f. ([MDN Web Docs][1])\n\n\u041d\u0438\u0436\u0435 \u2014 \u043a\u043e\u0440\u043e\u0442\u043a\u0430\u044f \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 \u0438 \u0441\u0440\u0430\u0437\u0443 \u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435.\n\n---\n\n## \u041f\u043e\u0447\u0435\u043c\u0443 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043b\u0430\u0441\u044c \u043f\u0435\u0442\u043b\u044f (\u043f\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443)\n\n\u0412 \u0432\u0430\u0448\u0435\u043c `nginx.conf` \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u043a\u0438:\n\n```nginx\nlocation = /admin  { return 301 /admin/; }   # \u044d\u0442\u043e \u0442\u0440\u043e\u0433\u0430\u0435\u0442 \u0422\u041e\u041b\u042c\u041a\u041e /admin \u0431\u0435\u0437 \u0441\u043b\u0435\u0448\u0430\nlocation /admin/ {\n  proxy_pass http://react_admin/;            # <-- \u0442\u0443\u0442 \u0432\u0430\u0436\u0435\u043d \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u044e\u0449\u0438\u0439 /\n  proxy_redirect http://react_admin:5173/ /admin/;\n  proxy_redirect http://react_admin/ /admin/;\n  ...\n}\n```\n\n* \u041f\u0440\u0430\u0432\u0438\u043b\u043e `= /admin` \u0434\u0430\u0451\u0442 **301**, \u043d\u043e \u0432 \u043b\u043e\u0433\u0435 `curl` **\u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e 301**, \u0437\u043d\u0430\u0447\u0438\u0442 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 **\u043d\u0435 \u043e\u0442\u0441\u044e\u0434\u0430**. ([MDN Web Docs][2])\n* \u0412\u043d\u0443\u0442\u0440\u0438 `location /admin/` \u0432\u044b \u043f\u0440\u043e\u043a\u0441\u0438\u0440\u0443\u0435\u0442\u0435 \u043d\u0430 `react_admin:5173` \u0438 **\u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0435 Location \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438** \u043e\u0442 \u0430\u043f\u0441\u0442\u0440\u0438\u043c\u0430 \u0432 `/admin/` \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e `proxy_redirect`. \u0415\u0441\u043b\u0438 \u0430\u043f\u0441\u0442\u0440\u0438\u043c (Vite/React Admin dev\u2011\u0441\u0435\u0440\u0432\u0435\u0440) \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u043c \u043d\u0430 `/` \u0438\u043b\u0438 \u043d\u0430 `http://react_admin:5173/`, NGINX \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u044d\u0442\u043e \u0432 `/admin/`, \u043a\u043b\u0438\u0435\u043d\u0442 \u0441\u043d\u043e\u0432\u0430 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442 `/admin/` \u2014 \u0438 \u0446\u0438\u043a\u043b \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u0442\u0441\u044f. \u042d\u0442\u043e \u043a\u0430\u043a \u0440\u0430\u0437 \u0442\u043e, \u0447\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442 `proxy_redirect`: \u043c\u0435\u043d\u044f\u0435\u0442 `Location`/`Refresh` \u0432 \u043e\u0442\u0432\u0435\u0442\u0430\u0445 \u0430\u043f\u0441\u0442\u0440\u0438\u043c\u0430. ([Nginx][3])\n\n\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e, \u0438\u0437\u2011\u0437\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u044e\u0449\u0435\u0433\u043e \u0441\u043b\u0435\u0448\u0430 \u0432 `proxy_pass http://react_admin/;` NGINX **\u0441\u0440\u0435\u0437\u0430\u0435\u0442 \u043f\u0440\u0435\u0444\u0438\u043a\u0441 `/admin/`** \u043f\u0435\u0440\u0435\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u043e\u0439 \u043d\u0430 \u0430\u043f\u0441\u0442\u0440\u0438\u043c (\u0442.\u0435. `/admin/x` \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u0432 `/x` \u0434\u043b\u044f \u0430\u043f\u0441\u0442\u0440\u0438\u043c\u0430). \u042d\u0442\u043e \u0448\u0442\u0430\u0442\u043d\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430 NGINX \u043f\u0440\u0438 `proxy_pass` **\u0441 URI**. \u0411\u0435\u0437 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u044e\u0449\u0435\u0433\u043e \u0441\u043b\u0435\u0448\u0430 (`proxy_pass http://react_admin;`) \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 URI \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442\u0441\u044f **\u043a\u0430\u043a \u0435\u0441\u0442\u044c**. ([Nginx][3])\n\n> \u0420\u0435\u0437\u044e\u043c\u0435 \u0433\u0438\u043f\u043e\u0442\u0435\u0437\u044b (\u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c\u0430\u044f): \u0430\u043f\u0441\u0442\u0440\u0438\u043c \u043e\u0442\u0434\u0430\u0451\u0442 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u043d\u0430 `/`), `proxy_redirect` \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0435\u0433\u043e \u0432 `/admin/`, \u043a\u043b\u0438\u0435\u043d\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u043d\u0430 `/admin/` \u0438 \u0432\u0441\u0451 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u0442\u0441\u044f.\n\n---\n\n## \u041a\u0430\u043a \u0431\u044b\u0441\u0442\u0440\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u0440\u0438\u0447\u0438\u043d\u0443 (2 \u043a\u043e\u043c\u0430\u043d\u0434\u044b)\n\n1. \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0432 \u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \xab\u0441\u044b\u0440\u043e\u0439\xbb `Location` \u0438\u0437 \u0430\u043f\u0441\u0442\u0440\u0438\u043c\u0430:\n\n```nginx\nlocation /admin/ {\n  proxy_pass http://react_admin/;\n  proxy_redirect off;  # \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\n}\n```\n\n\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c NGINX \u0438 \u0441\u043d\u043e\u0432\u0430: `curl -IL http://devbest.pro:8081/admin/` \u2014 \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 `Location` (\u0441\u043a\u043e\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043e `/` \u0438\u043b\u0438 `http://react_admin:5173/`). \u0418\u043c\u0435\u043d\u043d\u043e \u0442\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 `proxy_redirect off;`. ([Nginx][3])\n\n2. \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u044f\u043c\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0430\u043f\u0441\u0442\u0440\u0438\u043c\u0430 \u0438\u0437 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 (\u0431\u0435\u0437 NGINX):\n\n```bash\ndocker exec -it <nginx_container> curl -sIL http://react-admin:5173/ -H 'Host: devbest.pro'\ndocker exec -it <nginx_container> curl -sIL http://react-admin:5173/admin/ -H 'Host: devbest.pro'\n```\n\n\u0415\u0441\u043b\u0438 \u0442\u0430\u043c `302` \u043d\u0430 `/` \u0438\u043b\u0438 \u043d\u0430 \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u044b\u0439 URL \u2014 \u044d\u0442\u043e \u0438 \u0435\u0441\u0442\u044c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a. (\u0421\u0430\u043c \u0444\u0430\u043a\u0442 \u0442\u043e\u0433\u043e, \u0447\u0442\u043e `302` \u2014 \u044d\u0442\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u043d\u043e\u0432\u043e\u0433\u043e URL \u0432 `Location`, \u043e\u043f\u0438\u0441\u0430\u043d \u0432 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438/MDN.) ([MDN Web Docs][1])\n\n---\n\n## \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442)\n\n\u0421\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \xab\u0436\u0438\u0442\u044c\xbb \u043f\u043e\u0434 \u043f\u043e\u0434-\u043f\u0443\u0442\u0451\u043c `/admin/`, \u0430 NGINX \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u043d\u0435\u0442 \u0447\u0442\u043e\u2011\u043b\u0438\u0431\u043e \xab\u043c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u0438\xbb \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c:\n\n### 1) React\u2011Admin / React Router: \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c basename `/admin`\n\n\u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u0440\u043e\u0443\u0442\u0435\u0440 (\u043d\u0435 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 HashRouter \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e), \u0437\u0430\u0434\u0430\u0439\u0442\u0435 \u0431\u0430\u0437\u043e\u0432\u044b\u0439 \u043f\u0443\u0442\u044c:\n\n```tsx\nimport { RouterProvider, createBrowserRouter } from 'react-router-dom';\nimport { Admin, Resource } from 'react-admin';\n\nconst router = createBrowserRouter(\n  [{\n    path: '*',\n    element: (\n      <Admin dataProvider={...}>\n        <Resource name="posts" />\n      </Admin>\n    ),\n  }],\n  { basename: '/admin' },\n);\n\nexport default () => <RouterProvider router={router} />;\n```\n\n\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f React\u2011Admin \u043f\u0440\u044f\u043c\u043e \u043f\u0440\u043e \u044d\u0442\u043e: \xab\u0415\u0441\u043b\u0438 \u0430\u0434\u043c\u0438\u043d\u043a\u0430 \u0441\u0435\u0440\u0432\u0438\u0442\u0441\u044f \u0441 \u043f\u043e\u0434\u043f\u0443\u0442\u0438 \u0418 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 Router, \u0437\u0430\u0434\u0430\u0439\u0442\u0435 `basename`, \u0447\u0442\u043e\u0431\u044b \u0432\u0441\u0435 \u0441\u0441\u044b\u043b\u043a\u0438 \u0432\u043a\u043b\u044e\u0447\u0430\u043b\u0438 \u043f\u043e\u0434\u2011\u043f\u0443\u0442\u044c `/admin`\xbb. \u0422\u0430\u043c \u0436\u0435 \u0435\u0441\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0440 \u0441 `<Admin basename="/admin">` \u043f\u0440\u0438 \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043d\u0438\u0438 \u0432 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435. ([marmelab.com][4])\n\n### 2) Vite: \u0432\u044b\u0441\u0442\u0430\u0432\u0438\u0442\u044c `base: '/admin/'`\n\n\u0412 `vite.config.ts/js`:\n\n```ts\nimport { defineConfig } from 'vite';\nexport default defineConfig({\n  base: '/admin/',  // \u0438 \u0432 dev, \u0438 \u0432 prod\n});\n```\n\n`base` \u2014 \u044d\u0442\u043e **\u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 \u0431\u0430\u0437\u043e\u0432\u044b\u0439 \u043f\u0443\u0442\u044c** \u043a\u0430\u043a \u0432 \u0434\u0435\u0432\u0435, \u0442\u0430\u043a \u0438 \u0432 \u043f\u0440\u043e\u0434\u0435; \u0432\u0441\u0435 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0430\u0441\u0441\u0435\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u043d\u044b \u0441 \u0443\u0447\u0451\u0442\u043e\u043c \u044d\u0442\u043e\u0433\u043e \u0431\u0430\u0437\u043e\u0432\u043e\u0433\u043e \u043f\u0443\u0442\u0438. ([vitejs][5])\n\n### 3) NGINX: \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u0442\u044c \u0441\u0440\u0435\u0437\u0430\u0442\u044c \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \u0438 \u0432\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0432\n\n\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0430\u0448 \u0431\u043b\u043e\u043a \u0430\u0434\u043c\u0438\u043d\u043a\u0438 \u043d\u0430:\n\n```nginx\nlocation = /admin { return 301 /admin/; }\n\nlocation /admin/ {\n  # \u0412\u0410\u0416\u041d\u041e: \u0431\u0435\u0437 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u044e\u0449\u0435\u0433\u043e "/" \u2014 \u0442\u043e\u0433\u0434\u0430 \u0430\u043f\u0441\u0442\u0440\u0438\u043c \u0443\u0432\u0438\u0434\u0438\u0442 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 URI c /admin/ \u0446\u0435\u043b\u0438\u043a\u043e\u043c\n  proxy_pass http://react_admin;\n\n  proxy_redirect off;          # \u043d\u0435 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c Location \u2014 \u0431\u0430\u0437\u043e\u0432\u044b\u0439 \u043f\u0443\u0442\u044c \u0443\u0436\u0435 \u0443\u0447\u0442\u0451\u043d \u0444\u0440\u043e\u043d\u0442\u043e\u043c\n  proxy_set_header Host $host; # \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438\n  proxy_set_header X-Real-IP $remote_addr;\n  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n  proxy_set_header X-Forwarded-Proto $scheme;\n\n  # \u0435\u0441\u043b\u0438 \u0432 dev \u043d\u0443\u0436\u0435\u043d HMR \u043f\u043e WebSocket, \u043f\u0440\u043e\u043a\u0438\u043d\u044c\u0442\u0435 \u0430\u043f\u0433\u0440\u0435\u0439\u0434 (\u043d\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0444\u0438\u043a\u0441\u0430 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0432):\n  proxy_http_version 1.1;\n  proxy_set_header Upgrade $http_upgrade;\n  proxy_set_header Connection "upgrade";\n}\n```\n\n\u041f\u043e\u0447\u0435\u043c\u0443 \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442:\n\n* \u0411\u0435\u0437 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u044e\u0449\u0435\u0433\u043e \u0441\u043b\u0435\u0448\u0430 \u0443 `proxy_pass` NGINX **\u043d\u0435** \u0437\u0430\u043c\u0435\u043d\u044f\u0435\u0442 \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \u2014 URI \u0443\u0445\u043e\u0434\u0438\u0442 \u0432 \u0430\u043f\u0441\u0442\u0440\u0438\u043c \u043a\u0430\u043a \u0435\u0441\u0442\u044c (\u0441 `/admin/`). \u042d\u0442\u043e \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u043c\u0430\u043d\u0442\u0438\u043a\u0430 `proxy_pass`. ([Nginx][3])\n* `proxy_redirect off` \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u0435\u0442, \u0447\u0442\u043e \u043c\u044b **\u043d\u0435** \u043f\u0440\u0435\u0432\u0440\u0430\u0442\u0438\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u044b \u0430\u043f\u0441\u0442\u0440\u0438\u043c\u0430 \u0432\u043e \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 `/admin/`-\u043f\u0438\u043d\u0433\u2011\u043f\u043e\u043d\u0433. ([Nginx][3])\n* \u0422\u0430\u043a \u043a\u0430\u043a `base` \u0438 `basename` \u0437\u0430\u0434\u0430\u043d\u044b, \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c HTML \u0447\u0435\u0440\u0435\u0437 `sub_filter` \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043d\u0443\u0436\u043d\u043e. \u041a \u0441\u043b\u043e\u0432\u0443, \u0441\u0430\u043c \u043c\u043e\u0434\u0443\u043b\u044c `ngx_http_sub_module` \xab\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043d\u0435 \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0441\u044f\xbb \u2014 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0441\u0442\u043e\u0438\u0442 \u043b\u0438\u0448\u044c \u043f\u0440\u0438 \u043e\u0441\u0442\u0440\u043e\u0439 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438. (\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c, \u0432\u043a\u043b\u044e\u0447\u0451\u043d \u043b\u0438 \u043e\u043d \u0432 \u0432\u0430\u0448\u0435\u043c \u043e\u0431\u0440\u0430\u0437\u0435, \u043d\u0435 \u043c\u043e\u0433\u0443 \u0431\u0435\u0437 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043b\u043e\u0433\u0443 `nginx -V`.) ([Nginx][6])\n\n---\n\n## \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0430 (\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u043e\u0431\u0445\u043e\u0434\u043d\u043e\u0439 \u043f\u0443\u0442\u044c)\n\n\u0415\u0441\u043b\u0438 \u043f\u043e \u043a\u0430\u043a\u0438\u043c\u2011\u0442\u043e \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u043c \u0432\u044b **\u043d\u0435 \u0433\u043e\u0442\u043e\u0432\u044b** \u0441\u0435\u0439\u0447\u0430\u0441 \u043c\u0435\u043d\u044f\u0442\u044c \u0444\u0440\u043e\u043d\u0442 (\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0435 `base` \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e `/`), \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b NGINX \u0441\u043d\u0438\u043c\u0430\u043b `/admin` \u043f\u0435\u0440\u0435\u0434 \u043e\u0442\u0434\u0430\u0447\u0435\u0439 \u0432 \u0430\u043f\u0441\u0442\u0440\u0438\u043c \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u043b \u0435\u0433\u043e \u043d\u0430\u0437\u0430\u0434 \u0432 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u0430\u0445:\n\n```nginx\nlocation = /admin { return 301 /admin/; }\n\nlocation /admin/ {\n  # \u0441\u043d\u044f\u0442\u044c \u043f\u0440\u0435\u0444\u0438\u043a\u0441 /admin/ \u043f\u0435\u0440\u0435\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u043e\u0439 \u043a \u0430\u043f\u0441\u0442\u0440\u0438\u043c\u0443\n  rewrite ^/admin/(.*)$ /$1 break;\n  proxy_pass http://react_admin/;     # \u0437\u0434\u0435\u0441\u044c \u043a\u0430\u043a \u0440\u0430\u0437 \u041d\u0423\u0416\u0415\u041d \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u044e\u0449\u0438\u0439 "/"\n\n  # \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 Location \u043d\u0430\u0437\u0430\u0434 \u043f\u043e\u0434 /admin/\n  proxy_redirect / /admin/;\n\n  proxy_set_header Host $host;\n  proxy_set_header X-Real-IP $remote_addr;\n  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n  proxy_set_header X-Forwarded-Proto $scheme;\n}\n```\n\n`proxy_redirect / /admin/;` \u2014 \u0448\u0442\u0430\u0442\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 `Location` \u043e\u0442 \u0430\u043f\u0441\u0442\u0440\u0438\u043c\u0430, \u0434\u043e\u0431\u0430\u0432\u0438\u0432 \u043f\u0440\u0435\u0444\u0438\u043a\u0441. \u041d\u043e \u044d\u0442\u043e \u0438\u043c\u0435\u043d\u043d\u043e \xab\u043a\u043e\u0441\u0442\u044b\u043b\u044c\xbb, \u043b\u0443\u0447\u0448\u0435 \u0432\u0441\u0451\u2011\u0442\u0430\u043a\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c `base`/`basename` \u043d\u0430 \u0444\u0440\u043e\u043d\u0442\u0435. ([Nginx][3])\n\n---\n\n## \u041a\u0430\u043a \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0432\u0441\u0451 \u043f\u043e\u0447\u0438\u043d\u0438\u043b\u043e\u0441\u044c\n\n\u041f\u043e\u0441\u043b\u0435 \u043f\u0440\u0430\u0432\u043e\u043a \u0438 reload\u2019\u0430 NGINX:\n\n```bash\ncurl -IL http://devbest.pro:8081/admin/ | sed -n '1,12p'\n```\n\n\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043b\u0438\u0431\u043e \u043f\u0440\u044f\u043c\u043e\u0439 `200 OK`, \u043b\u0438\u0431\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0432 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u043e\u0434\u0438\u043d \u2014 \u0441\u043e /admin \u043d\u0430 /admin/), \u043d\u043e **\u0442\u043e\u0447\u043d\u043e \u043d\u0435 \u0434\u0435\u0441\u044f\u0442\u043a\u0438**. \u041d\u0430\u043f\u043e\u043c\u043d\u044e: `curl -L` \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043f\u0440\u0435\u043a\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u0430\u043c \u043f\u043e\u0441\u043b\u0435 50 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u043e\u0432. ([curl.se][7])\n\n---\n\n### \u0421\u0441\u044b\u043b\u043a\u0438, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u044b \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438\n\n* \u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 `302` \u0438 \u043a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 `Location` \u2014 MDN. ([MDN Web Docs][1])\n* \u041b\u0438\u043c\u0438\u0442 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0432 `curl` (`--max-redirs`, \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e 50) \u2014 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f man\u2011\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430. ([curl.se][7])\n* \u0421\u0435\u043c\u0430\u043d\u0442\u0438\u043a\u0430 `proxy_pass` \u0441/\u0431\u0435\u0437 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u044e\u0449\u0435\u0433\u043e `/` \u2014 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f NGINX (`ngx_http_proxy_module`). ([Nginx][3])\n* \u0427\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442 `proxy_redirect` (\u0438 \u043a\u0430\u043a \u0435\u0433\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c) \u2014 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f NGINX. ([Nginx][3])\n* \u041c\u043e\u0434\u0443\u043b\u044c `sub_filter` \u0438 \u0442\u043e, \u0447\u0442\u043e \u043e\u043d \u043d\u0435 \u0432\u043a\u043b\u044e\u0447\u0451\u043d \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u2014 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f NGINX (`ngx_http_sub_module`). ([Nginx][6])\n* React\u2011Admin: \u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043f\u043e\u0434 \u043f\u043e\u0434\u043f\u0443\u0442\u0451\u043c \u0438 \u0433\u0434\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c `basename`. ([marmelab.com][4])\n* Vite: \u043e\u043f\u0446\u0438\u044f `base` \u2014 \u0431\u0430\u0437\u043e\u0432\u044b\u0439 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 \u043f\u0443\u0442\u044c \u0432 dev \u0438 prod (\u0438 CLI `--base`). ([vitejs][5])\n\n---\n\n\u0415\u0441\u043b\u0438 \u0437\u0430\u0445\u043e\u0447\u0435\u0442\u0441\u044f, \u0434\u043e\u0431\u0430\u0432\u043b\u044e \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0442\u0447 \u043a \u0432\u0430\u0448\u0435\u043c\u0443 `nginx.conf` \u0446\u0435\u043b\u0438\u043a\u043e\u043c \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043e\u0447\u043d\u044b\u0439 \u0447\u0435\u043a\u2011\u043b\u0438\u0441\u0442 \u0434\u043b\u044f `docker compose` (\u043a\u0430\u043a\u0438\u0435 \u043f\u043e\u0440\u0442\u044b \u043f\u0440\u043e\u0431\u0440\u043e\u0448\u0435\u043d\u044b, \u0433\u0434\u0435 \u043b\u043e\u0433\u0438\u043d\u0438\u0442\u0435\u0441\u044c \u0432 GHCR \u0438 \u0442.\u043f.).\n\n[1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Status/302?utm_source=chatgpt.com "302 Found - HTTP - MDN - Mozilla"\n[2]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Status?utm_source=chatgpt.com "HTTP response status codes - MDN - Mozilla"\n[3]: https://nginx.org/en/docs/http/ngx_http_proxy_module.html "Module ngx_http_proxy_module"\n[4]: https://marmelab.com/react-admin/Routing.html "React-admin - Routing in React-Admin Apps"\n[5]: https://vite.dev/config/shared-options?utm_source=chatgpt.com "Shared Options"\n[6]: https://nginx.org/en/docs/http/ngx_http_sub_module.html?utm_source=chatgpt.com "Module ngx_http_sub_module"\n[7]: https://curl.se/docs/manpage.html?utm_source=chatgpt.com "curl man page"\n