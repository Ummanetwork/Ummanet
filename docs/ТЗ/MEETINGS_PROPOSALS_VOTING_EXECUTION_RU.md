# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ (–¢–ó) - –°–æ–≤–µ—â–∞–Ω–∏—è / –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è / –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ / –ö–æ–Ω—Ç—Ä–æ–ª—å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è

–í–µ—Ä—Å–∏—è: 1.0
–î–∞—Ç–∞: 2026-01-24
–û—Å–Ω–æ–≤–∞–Ω–∏–µ: —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑—á–∏–∫–∞ –ø–æ —Ä–∞–∑–¥–µ–ª—É ¬´–°–æ–≤–µ—â–∞–Ω–∏—è¬ª.

## 1. –û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1.1 –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞
- Telegram-–±–æ—Ç.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ inline/reply –∫–Ω–æ–ø–æ–∫.
- FSM (Finite State Machine) –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.

### 1.2 –†–æ–ª–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî –º–æ–∂–µ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –∏–¥–µ–∏ –∏ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å.
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ.

–†–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∑–∞–¥–∞–µ—Ç—Å—è:
- –ø–æ `user_id`;
- –∏–ª–∏ —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `admins`.

## 2. –ù–∞–≤–∏–≥–∞—Ü–∏—è (–∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω–∞—Ö)

–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:
- –ú–æ–∏ –¥–µ–ª–∞
- –ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫
- –®–∞—Ä–∏–∞—Ç—Å–∫–∏–µ –∑–Ω–∞–Ω–∏—è
- –®–∞—Ä–∏–∞—Ç—Å–∫–∏–π –∫–æ–º–∏—Ç–µ—Ç
- –°–æ–≤–µ—â–∞–Ω–∏—è –∏ —á–∞—Ç—ã
- –ö–æ–Ω—Ç—Ä–æ–ª—å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
- –î–æ–±—Ä—ã–µ –¥–µ–ª–∞
- –ó–∞–∫—è—Ç –∏ —Å–∞–¥–∞–∫–∞

## 3. –†–∞–∑–¥–µ–ª ¬´–°–æ–≤–µ—â–∞–Ω–∏—è –∏ —á–∞—Ç—ã¬ª

### 3.1 –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ä–º–∞—Ç–∞
–¢–µ–∫—Å—Ç:
> –°–æ–≤–µ—â–∞–Ω–∏—è –∏ –æ–±—â–µ–Ω–∏–µ. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.

–ö–Ω–æ–ø–∫–∏:
- –°–æ–≤–µ—â–∞–Ω–∏—è
- –ú—É–∂—Å–∫–æ–π —á–∞—Ç
- –ñ–µ–Ω—Å–∫–∏–π —á–∞—Ç
- –ù–∞–∑–∞–¥

## 4. –†–∞–∑–¥–µ–ª ¬´–°–æ–≤–µ—â–∞–Ω–∏—è¬ª

–¢–µ–∫—Å—Ç:
> –°–æ–≤–µ—â–∞–Ω–∏—è  
> –ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –∏–¥–µ—é –∏–ª–∏ —É—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–∏ –æ–±—â–∏–Ω—ã.

–ö–Ω–æ–ø–∫–∏:
- üí° –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏–¥–µ—é
- üì¶ –ì–æ–ª–æ—Å–æ–≤–∞—Ç—å
- ‚¨ÖÔ∏è –ù–∞–∑–∞–¥

## 5. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª ¬´–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏–¥–µ—é¬ª

### 5.1 FSM: `proposal_create`
–®–∞–≥–∏ FSM:
1. `proposal_title` ‚Äî –≤–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è.
2. `proposal_description` ‚Äî —Å—É—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.
3. `proposal_goal` ‚Äî —Ü–µ–ª—å / –ø–æ–ª—å–∑–∞.
4. `proposal_shariah_basis_choice` ‚Äî –≤—ã–±–æ—Ä –æ—Å–Ω–æ–≤–∞–Ω–∏—è:
   - üìñ –ï—Å—Ç—å –æ—Å–Ω–æ–≤–∞–Ω–∏–µ
   - ‚úÖ –ù–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç —à–∞—Ä–∏–∞—Ç—É
5. (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–æ üìñ) `proposal_shariah_text` ‚Äî —Ç–µ–∫—Å—Ç –æ—Å–Ω–æ–≤–∞–Ω–∏—è.
6. `proposal_conditions` ‚Äî —É—Å–ª–æ–≤–∏—è (optional).
7. `proposal_terms` ‚Äî —Å—Ä–æ–∫ / —Ñ–æ—Ä–º–∞—Ç (optional).
8. `proposal_confirm` ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ.

### 5.2 –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
–ö–Ω–æ–ø–∫–∏:
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
- ‚ùå –û—Ç–º–µ–Ω–∞

–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏:
- —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ –ë–î;
- —Å—Ç–∞—Ç—É—Å = `pending_review`.

–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
> –í–∞—à–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏.

## 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π (–ê–¥–º–∏–Ω)

### 6.1 –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
–î–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º.  
–°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending_review`.

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:
- –ù–∞–∑–≤–∞–Ω–∏–µ
- –ê–≤—Ç–æ—Ä (`user_id`)
- –î–∞—Ç–∞
- –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç

### 6.2 –ö–Ω–æ–ø–∫–∏ –∞–¥–º–∏–Ω–∞
- ‚úÖ –î–æ–ø—É—Å—Ç–∏—Ç—å –∫ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—é
- ‚úèÔ∏è –í–µ—Ä–Ω—É—Ç—å –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É
- ‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å

### 6.3 –õ–æ–≥–∏–∫–∞ —Ä–µ—à–µ–Ω–∏–π
‚úÖ –î–æ–ø—É—Å—Ç–∏—Ç—å:
- —Å—Ç–∞—Ç—É—Å ‚Üí `approved`;
- —Å–æ–∑–¥–∞–µ—Ç—Å—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ.

‚úèÔ∏è –î–æ—Ä–∞–±–æ—Ç–∫–∞:
- —Å—Ç–∞—Ç—É—Å ‚Üí `revision_required`;
- –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞–¥–º–∏–Ω–∞;
- –∞–≤—Ç–æ—Ä—É –ø—Ä–∏—Ö–æ–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.

‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å:
- —Å—Ç–∞—Ç—É—Å ‚Üí `rejected`;
- –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞;
- —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ –∞—Ä—Ö–∏–≤–µ.

## 7. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª ¬´–ì–æ–ª–æ—Å–æ–≤–∞—Ç—å¬ª

### 7.1 –≠–∫—Ä–∞–Ω –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–π
–ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º:
- `approved`
- `voting_active`

–ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –ù–∞–∑–≤–∞–Ω–∏–µ
- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- –®–∞—Ä–∏–∞—Ç—Å–∫–æ–µ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ
- –£—Å–ª–æ–≤–∏—è
- –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è

### 7.2 –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
–ö–Ω–æ–ø–∫–∏:
- üëç –ó–∞
- üëé –ü—Ä–æ—Ç–∏–≤
- ‚ö™ –í–æ–∑–¥–µ—Ä–∂–∞–ª—Å—è

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- 1 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å = 1 –≥–æ–ª–æ—Å;
- –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ;
- –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≥–æ–ª–æ—Å–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–æ.

–ì–æ–ª–æ—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î.

## 8. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è

### 8.1 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ç–∞–π–º–µ—Ä—É
–ü–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞:
- –ø–æ–¥—Å—á–µ—Ç –≥–æ–ª–æ—Å–æ–≤;
- —Ñ–∏–∫—Å–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- `accepted`
- `rejected`

## 9. –ö–æ–Ω—Ç—Ä–æ–ª—å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è

### 9.1 –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
–°–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏:
- —Ä–µ–∑—É–ª—å—Ç–∞—Ç = `accepted`.

–ö–∞—Ä—Ç–æ—á–∫–∞:
- ID —Ä–µ—à–µ–Ω–∏—è
- –ù–∞–∑–≤–∞–Ω–∏–µ
- –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π (admin / —Å–ø–∏—Å–æ–∫)
- –°—Ä–æ–∫
- –°—Ç–∞—Ç—É—Å

### 9.2 –°—Ç–∞—Ç—É—Å—ã –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
- `in_progress`
- `completed`
- `failed`

### 9.3 –î–µ–π—Å—Ç–≤–∏—è
–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:
- –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π;
- —Ñ–∞–π–ª / —Å—Å—ã–ª–∫–∞.

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ
- ‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å —Å –ø—Ä–∏—á–∏–Ω–æ–π

## 10. –ê—Ä—Ö–∏–≤
–•—Ä–∞–Ω–∏—Ç—Å—è:
- –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è;
- –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è;
- –∏—Å–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.

–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ.

## 11. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î (–º–∏–Ω–∏–º—É–º)

### `proposals`
- `id`
- `author_id`
- `title`
- `description`
- `goal`
- `shariah_text`
- `conditions`
- `terms`
- `status`
- `created_at`

### `votes`
- `id`
- `proposal_id`
- `user_id`
- `vote_type`

### `executions`
- `id`
- `proposal_id`
- `responsible_id`
- `status`
- `deadline`
- `proof`
- `comment`

## 12. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- FSM –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è.
- –ù–∏–∫–∞–∫–æ–≥–æ —É—á–∞—Å—Ç–∏—è GPT.
- –í—Å–µ —Ä–µ—à–µ–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è.
- –ê–¥–º–∏–Ω-—Ñ–∏–ª—å—Ç—Ä –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.
